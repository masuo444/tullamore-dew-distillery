<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#8B4513">
    <title>Tullamore D.E.W. Distillery - Premium Irish Whiskey Experience</title>
    <meta name="description" content="Discover the full range of Tullamore D.E.W.'s legendary Irish whiskeys, from our original blended Irish whiskey to our single malts and special reserves.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@300;400;500;600;700&family=Source+Sans+Pro:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@300;400;500;700&family=Dancing+Script:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="nav-brand">
                    <a href="main.html" class="brand-link">
                        <div class="brand-logo-container">
                            <div class="logo-icon">ğŸ¥ƒ</div>
                            <div class="brand-text">
                                <h1 class="brand-logo">Tullamore D.E.W.</h1>
                                <span class="brand-tagline">Irish Whiskey Distillery</span>
                            </div>
                        </div>
                    </a>
                </div>
                
                <div class="nav-right">
                    <div class="official-site-link">
                        <a href="https://www.tullamoredew.com/en-gb/our-whiskey-range/" target="_blank" rel="noopener noreferrer" class="official-link">
                            ğŸ  Official Site
                        </a>
                    </div>
                    <div class="google-translate-container">
                        <div id="google_translate_element"></div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Company Information Section -->
    <section class="company-info" id="company-info">
        <div class="container">
            <h2 class="section-title" data-translate="company_title">ğŸ¢ About Tullamore D.E.W. Distillery</h2>
            <p class="section-subtitle" data-translate="company_subtitle">Founded in 1829, Ireland's Original Triple Blend Irish Whiskey</p>
            
            <!-- ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
            <div class="info-tabs">
                <button class="tab-btn active" data-tab="overview">Company Overview</button>
                <button class="tab-btn" data-tab="history">Heritage</button>
            </div>
            
            <!-- ä¼æ¥­æ¦‚è¦ã‚¿ãƒ– -->
            <div class="tab-content active" id="overview-tab">
                <div class="company-content-compact">
                    <div class="company-overview-compact">
                        <div class="company-hero-compact">
                            <div class="company-logo-section">
                                <div class="company-logo">ğŸ¥ƒ</div>
                                <div class="company-name">
                                    <h3 data-translate="company_name">Tullamore D.E.W. Distillery</h3>
                                    <p data-translate="company_name_en">William Grant & Sons Distillers Limited</p>
                                </div>
                            </div>
                            <div class="company-mission">
                                <h4 data-translate="company_mission_title">Our Mission</h4>
                                <p data-translate="company_mission">[Company Mission Statement - To be filled with official content]</p>
                            </div>
                        </div>
                    
                    <div class="company-facts-compact">
                        <h4 data-translate="company_facts_title">ğŸ“Š Company Facts</h4>
                        <div class="facts-grid-compact">
                            <div class="fact-item-compact">
                                <div class="fact-label" data-translate="company_established">Founded</div>
                                <div class="fact-value" data-translate="company_established_value">1829</div>
                            </div>
                            <div class="fact-item-compact">
                                <div class="fact-label" data-translate="company_location">Location</div>
                                <div class="fact-value" data-translate="company_location_value">Tullamore, Ireland</div>
                            </div>
                        </div>
                    </div>
                    
                        <div class="certifications-compact">
                            <h4 data-translate="company_certifications_title">ğŸ† Awards & Recognition</h4>
                            <div class="cert-badges">
                                <span class="cert-badge" data-translate="cert_1">IWC Gold Medal Winner</span>
                                <span class="cert-badge" data-translate="cert_2">Triple Cask Matured</span>
                                <span class="cert-badge" data-translate="cert_3">Irish Whiskey Heritage</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ­´å²ã‚¿ãƒ– -->
            <div class="tab-content" id="history-tab">
                <div class="history-content">
                    <div class="history-timeline">
                        <h3 data-translate="history_title">The Legacy of Tullamore D.E.W.</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-year">1829</div>
                                <div class="timeline-content">
                                    <h4>The Beginning</h4>
                                    <p>The Tullamore Distillery is founded in Tullamore, County Offaly, in the heart of Ireland. The distillery begins its journey crafting fine Irish whiskey.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">1887</div>
                                <div class="timeline-content">
                                    <h4>Daniel E. Williams Arrives</h4>
                                    <p>Daniel E. Williams joins the distillery as General Manager. His initials "D.E.W." would later become part of the whiskey's iconic name.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">1893</div>
                                <div class="timeline-content">
                                    <h4>The Great Fire & Innovation</h4>
                                    <p>A hot air balloon accident causes a fire at the distillery. Daniel E. Williams' quick thinking saves the town from disaster. In gratitude, the townspeople make him a hero.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">1903</div>
                                <div class="timeline-content">
                                    <h4>Birth of Tullamore D.E.W.</h4>
                                    <p>Daniel E. Williams becomes owner and adds his initials to create "Tullamore D.E.W." He pioneers the triple distillation and triple blend process.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">1906</div>
                                <div class="timeline-content">
                                    <h4>Triple Distillation Perfected</h4>
                                    <p>The signature triple distilled, triple blend process is perfected - combining grain, malt, and pot still whiskeys for exceptional smoothness.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">1950s</div>
                                <div class="timeline-content">
                                    <h4>International Recognition</h4>
                                    <p>Tullamore D.E.W. gains international acclaim and begins exporting globally, becoming one of Ireland's most beloved whiskey brands.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">2010</div>
                                <div class="timeline-content">
                                    <h4>William Grant & Sons</h4>
                                    <p>William Grant & Sons acquires Tullamore D.E.W., bringing new investment and global distribution expertise to the brand.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">2014</div>
                                <div class="timeline-content">
                                    <h4>Return to Tullamore</h4>
                                    <p>A new state-of-the-art distillery opens in Tullamore, bringing whiskey production back home after 60 years. The â‚¬35 million facility honors tradition while embracing innovation.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-year">Today</div>
                                <div class="timeline-content">
                                    <h4>Continuing the Legacy</h4>
                                    <p>Tullamore D.E.W. continues to craft exceptional Irish whiskey using the same triple distilled, triple blend process. The visitor center welcomes whiskey lovers from around the world to experience our heritage.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Chat Introduction -->
    <section class="ai-intro" id="ai-intro">
        <div class="container">
            <div class="ai-intro-content">
                <div class="ai-mascot">
                    <div class="ai-avatar sakura-intro-avatar">
                        <img src="images/sakura.png" alt="SAKURA" class="sakura-intro-image">
                    </div>
                    <div class="ai-speech-bubble sakura-speech-bubble">
                        <p data-translate="ai_greeting">Hello! I'm SAKURA, your friendly Tullamore D.E.W. whiskey expert.<br>
                        Ask me anything about our premium Irish whiskeys and heritage!</p>
                        
                        <button class="ai-sommelier-chat-btn" id="aiSommelierChatBtn" data-translate="ai_chat_start" onclick="showWorkingSakuraChat();">
                            ğŸŒ¸ Chat with SAKURA - Whiskey Expert
                        </button>
                        
                        <div class="speech-examples">
                            <span class="example-q" data-translate="ai_example_1">"Tell me about Daniel E. Williams and the D.E.W. story"</span>
                            <span class="example-q" data-translate="ai_example_2">"What makes Tullamore D.E.W.'s triple blend special?"</span>
                            <span class="example-q" data-translate="ai_example_3">"Which expression is best for cocktails?"</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Products Section -->
    <section class="products" id="products">
        <div class="container">
            <h2 class="section-title" data-translate="products_title">ğŸ¥ƒ Premium Irish Whiskey Collection</h2>
            <p class="section-subtitle" data-translate="products_subtitle">Discover our exceptional range of Irish whiskeys, from our signature Original blend to our premium aged expressions</p>
            
            
<!-- 7ã¤ã®ã‚¦ã‚£ã‚¹ã‚­ãƒ¼å•†å“ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div class="products-showcase">
    <!-- Product 1: Tullamore D.E.W. Original -->
    <div class="sake-card luxury" data-product-id="1">
        <div class="sake-image-container">
            <div class="sake-image-frame">
                <img src="images/products/original.png" alt="Tullamore D.E.W. Original" class="sake-bottle">
                <div class="image-overlay"></div>
            </div>
            <div class="sake-badge premium-badge">
                <span>ORIGINAL</span>
            </div>
        </div>
        <div class="sake-info">
            <div class="sake-header">
                <h3 class="sake-name">Tullamore D.E.W. Original</h3>
                <p class="sake-category">Triple Blend Irish Whiskey</p>
            </div>
            <p class="sake-description">Our signature triple blend Irish whiskey, combining smooth grain, sweet malt, and characterful pot still whiskeys</p>
            <div class="sake-specs">
                <div class="spec-item">
                    <div class="spec-label">ABV</div>
                    <div class="spec-value">40%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Age</div>
                    <div class="spec-value">No Age Statement</div>
                </div>
            </div>
            <a href="products/original.html" class="sake-link">
                <button class="explore-btn">
                    <span>View Details</span>
                </button>
            </a>
        </div>
    </div>

    <!-- Product 2: Tullamore D.E.W. 12 Year Old -->
    <div class="sake-card luxury" data-product-id="2">
        <div class="sake-image-container">
            <div class="sake-image-frame">
                <img src="images/products/12-year.png" alt="Tullamore D.E.W. 12 Year Old" class="sake-bottle">
                <div class="image-overlay"></div>
            </div>
            <div class="sake-badge premium-badge">
                <span>AGED</span>
            </div>
        </div>
        <div class="sake-info">
            <div class="sake-header">
                <h3 class="sake-name">Tullamore D.E.W. 12 Year Old</h3>
                <p class="sake-category">Special Reserve Irish Whiskey</p>
            </div>
            <p class="sake-description">[Product Description]</p>
            <div class="sake-specs">
                <div class="spec-item">
                    <div class="spec-label">ABV</div>
                    <div class="spec-value">40%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Age</div>
                    <div class="spec-value">12 Years</div>
                </div>
            </div>
            <a href="products/12-year.html" class="sake-link">
                <button class="explore-btn">
                    <span>View Details</span>
                </button>
            </a>
        </div>
    </div>

    <!-- Product 3: Tullamore D.E.W. 14 Year Old Single Malt -->
    <div class="sake-card luxury" data-product-id="3">
        <div class="sake-image-container">
            <div class="sake-image-frame">
                <img src="images/products/14-single-malt.png" alt="Tullamore D.E.W. 14 Year Old Single Malt" class="sake-bottle">
                <div class="image-overlay"></div>
            </div>
            <div class="sake-badge premium-badge">
                <span>SINGLE MALT</span>
            </div>
        </div>
        <div class="sake-info">
            <div class="sake-header">
                <h3 class="sake-name">Tullamore D.E.W. 14 Year Old</h3>
                <p class="sake-category">Single Malt Irish Whiskey</p>
            </div>
            <p class="sake-description">[Product Description]</p>
            <div class="sake-specs">
                <div class="spec-item">
                    <div class="spec-label">ABV</div>
                    <div class="spec-value">41.3%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Age</div>
                    <div class="spec-value">14 Years</div>
                </div>
            </div>
            <a href="products/14-single-malt.html" class="sake-link">
                <button class="explore-btn">
                    <span>View Details</span>
                </button>
            </a>
        </div>
    </div>

    <!-- Product 4: Tullamore D.E.W. 15 Year Old -->
    <div class="sake-card luxury" data-product-id="4">
        <div class="sake-image-container">
            <div class="sake-image-frame">
                <img src="images/products/15-year.png" alt="Tullamore D.E.W. 15 Year Old" class="sake-bottle">
                <div class="image-overlay"></div>
            </div>
            <div class="sake-badge premium-badge">
                <span>PREMIUM</span>
            </div>
        </div>
        <div class="sake-info">
            <div class="sake-header">
                <h3 class="sake-name">Tullamore D.E.W. 15 Year Old</h3>
                <p class="sake-category">Trilogy Irish Whiskey</p>
            </div>
            <p class="sake-description">[Product Description]</p>
            <div class="sake-specs">
                <div class="spec-item">
                    <div class="spec-label">ABV</div>
                    <div class="spec-value">40%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Age</div>
                    <div class="spec-value">15 Years</div>
                </div>
            </div>
            <a href="products/15-year.html" class="sake-link">
                <button class="explore-btn">
                    <span>View Details</span>
                </button>
            </a>
        </div>
    </div>

    <!-- Product 5: Tullamore D.E.W. 18 Year Old -->
    <div class="sake-card luxury" data-product-id="5">
        <div class="sake-image-container">
            <div class="sake-image-frame">
                <img src="images/products/18-year.png" alt="Tullamore D.E.W. 18 Year Old" class="sake-bottle">
                <div class="image-overlay"></div>
            </div>
            <div class="sake-badge premium-badge">
                <span>ULTRA PREMIUM</span>
            </div>
        </div>
        <div class="sake-info">
            <div class="sake-header">
                <h3 class="sake-name">Tullamore D.E.W. 18 Year Old</h3>
                <p class="sake-category">Single Malt Irish Whiskey</p>
            </div>
            <p class="sake-description">[Product Description]</p>
            <div class="sake-specs">
                <div class="spec-item">
                    <div class="spec-label">ABV</div>
                    <div class="spec-value">41.3%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Age</div>
                    <div class="spec-value">18 Years</div>
                </div>
            </div>
            <a href="products/18-year.html" class="sake-link">
                <button class="explore-btn">
                    <span>View Details</span>
                </button>
            </a>
        </div>
    </div>

    <!-- Product 6: Tullamore D.E.W. Caribbean Rum Cask -->
    <div class="sake-card luxury" data-product-id="6">
        <div class="sake-image-container">
            <div class="sake-image-frame">
                <img src="images/products/caribbean-rum.png" alt="Tullamore D.E.W. Caribbean Rum Cask" class="sake-bottle">
                <div class="image-overlay"></div>
            </div>
            <div class="sake-badge premium-badge">
                <span>CASK FINISH</span>
            </div>
        </div>
        <div class="sake-info">
            <div class="sake-header">
                <h3 class="sake-name">Tullamore D.E.W. Caribbean Rum Cask</h3>
                <p class="sake-category">Rum Cask Finish Irish Whiskey</p>
            </div>
            <p class="sake-description">[Product Description]</p>
            <div class="sake-specs">
                <div class="spec-item">
                    <div class="spec-label">ABV</div>
                    <div class="spec-value">43%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Finish</div>
                    <div class="spec-value">Rum Cask</div>
                </div>
            </div>
            <a href="products/caribbean-rum.html" class="sake-link">
                <button class="explore-btn">
                    <span>View Details</span>
                </button>
            </a>
        </div>
    </div>

    <!-- Product 7: Tullamore D.E.W. Honey -->
    <div class="sake-card luxury" data-product-id="7">
        <div class="sake-image-container">
            <div class="sake-image-frame">
                <img src="images/products/honey.png" alt="Tullamore D.E.W. Honey" class="sake-bottle">
                <div class="image-overlay"></div>
            </div>
            <div class="sake-badge premium-badge">
                <span>HONEY</span>
            </div>
        </div>
        <div class="sake-info">
            <div class="sake-header">
                <h3 class="sake-name">Tullamore D.E.W. Honey</h3>
                <p class="sake-category">Honey Liqueur Irish Whiskey</p>
            </div>
            <p class="sake-description">[Product Description]</p>
            <div class="sake-specs">
                <div class="spec-item">
                    <div class="spec-label">ABV</div>
                    <div class="spec-value">35%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Style</div>
                    <div class="spec-value">Honey Liqueur</div>
                </div>
            </div>
            <a href="products/honey.html" class="sake-link">
                <button class="explore-btn">
                    <span>View Details</span>
                </button>
            </a>
        </div>
    </div>
</div>
        </div>
    </section>

    <script src="js/deepl-translation.js"></script>
    <!-- AI Chat Secure System (GPT & DeepL) -->
    <script src="js/ai-chat-secure.js"></script>
    <!-- Enhanced Chat Fix -->
    <script src="js/enhanced-chat-fix.js"></script>
    <!-- APIä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script src="js/simple-api-fix.js"></script>
    <!-- Main Script -->
    <script src="js/script.js"></script>
    <script src="js/interactive.js"></script>
    <script src="js/analytics.js"></script>
    
    <!-- ã‚¿ãƒ–ã‚·ã‚¹ãƒ†ãƒ ã®JavaScript -->
    <script>
    // ã‚¿ãƒ–æ©Ÿèƒ½ã®å®Ÿè£…
    document.addEventListener('DOMContentLoaded', function() {
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetTab = button.getAttribute('data-tab');
                
                // ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚¿ãƒ–ãƒœã‚¿ãƒ³ã¨å¯¾å¿œã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«activeã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
                button.classList.add('active');
                document.getElementById(targetTab + '-tab').classList.add('active');
            });
        });
    });
    </script>
    
    <!-- Googleç¿»è¨³ -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'ja,ko,zh-cn,zh-tw,fr,de,es,it,pt,ru,th,vi',
                layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <!-- ã‚µã‚¯ãƒ©ãƒãƒ£ãƒƒãƒˆç¢ºå®Ÿå‹•ä½œã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script>
    // ã‚µã‚¯ãƒ©ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã®ç¢ºå®Ÿãªå®Ÿè£…
    function openSAKURAChat() {
        console.log('ğŸŒ¸ SAKURAãƒãƒ£ãƒƒãƒˆé–‹å§‹ï¼');
        alert('SAKURAãƒãƒ£ãƒƒãƒˆãŒé–‹å§‹ã•ã‚Œã¾ã™ï¼'); // ãƒ†ã‚¹ãƒˆç”¨ã‚¢ãƒ©ãƒ¼ãƒˆ
        
        // æ—¢å­˜ã®ãƒãƒ£ãƒƒãƒˆã‚’å‰Šé™¤
        const existingChat = document.getElementById('aiChat');
        if (existingChat) {
            existingChat.remove();
            console.log('ğŸŒ¸ æ—¢å­˜ãƒãƒ£ãƒƒãƒˆå‰Šé™¤å®Œäº†');
        }
        
        // ã‚·ãƒ³ãƒ—ãƒ«ã§ç¢ºå®Ÿãªãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ
        const chatHTML = `
            <div id="aiChat" style="position: fixed; top: 50px; right: 50px; width: 350px; height: 500px; background: white; border: 2px solid #8B4513; border-radius: 10px; z-index: 10000; box-shadow: 0 4px 20px rgba(0,0,0,0.3); display: flex; flex-direction: column;">
                <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                <div style="background: #8B4513; color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; border-radius: 8px 8px 0 0;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <img src="images/sakura.png" alt="SAKURA" style="width: 30px; height: 30px; border-radius: 50%;" onerror="this.style.display='none';">
                        <span style="font-weight: bold;">ğŸŒ¸ SAKURA</span>
                    </div>
                    <button onclick="document.getElementById('aiChat').remove()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer;">&times;</button>
                </div>
                <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¨ãƒªã‚¢ -->
                <div id="chatMessages" style="flex: 1; padding: 15px; overflow-y: auto; background: #f9f9f9;">
                    <div style="background: #e8f4f8; padding: 10px; border-radius: 10px; margin-bottom: 10px;">
                        <strong>SAKURA:</strong> Hello! I'm SAKURA, your Tullamore D.E.W. whiskey expert! Ask me anything about our premium Irish whiskeys.
                    </div>
                </div>
                <!-- å…¥åŠ›ã‚¨ãƒªã‚¢ -->
                <div style="padding: 15px; border-top: 1px solid #ddd; display: flex; gap: 10px;">
                    <input type="text" id="chatInput" placeholder="Ask SAKURA..." style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 5px;">
                    <button onclick="sendSimpleMessage()" style="background: #8B4513; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">Send</button>
                </div>
            </div>`>
                    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                    <div style="background: linear-gradient(135deg, #8B4513 0%, #A0522D 50%, #CD853F 100%); padding: 20px 24px; display: flex; align-items: center; gap: 16px; position: relative; border-radius: 24px 24px 0 0; flex-shrink: 0;">
                        <div style="width: 48px; height: 48px; border-radius: 50%; overflow: hidden; border: 3px solid rgba(255, 255, 255, 0.9); background: rgba(255, 255, 255, 0.95); display: flex; align-items: center; justify-content: center; flex-shrink: 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);">
                            <img src="images/sakura.png" alt="SAKURA" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div style="display: none; width: 100%; height: 100%; background: linear-gradient(135deg, #8B4513, #CD853F); align-items: center; justify-content: center; font-size: 22px;">ğŸ¥ƒ</div>
                        </div>
                        <div style="flex: 1; color: white; min-width: 0;">
                            <h4 style="margin: 0; font-size: 17px; font-weight: 600; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; letter-spacing: 0.3px;">ğŸ¥ƒ SAKURA - Whiskey Expert</h4>
                            <p style="margin: 3px 0 0 0; font-size: 13px; opacity: 0.9; color: rgba(255, 255, 255, 0.85); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Tullamore D.E.W. Brand Ambassador</p>
                        </div>
                        <button onclick="document.getElementById('aiChat').remove()" style="background: rgba(255, 255, 255, 0.2); border: none; border-radius: 50%; width: 36px; height: 36px; color: white; font-size: 18px; cursor: pointer; display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: all 0.2s ease; backdrop-filter: blur(10px);" onmouseover="this.style.background='rgba(255, 255, 255, 0.3)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'">&times;</button>
                    </div>
                    
                    <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¨ãƒªã‚¢ -->
                    <div id="chatMessages" style="background: linear-gradient(180deg, #fafafa 0%, #ffffff 100%); flex: 1; overflow-y: auto; padding: 24px 20px; min-height: 0; scroll-behavior: smooth;">
                        <div style="margin-bottom: 20px; display: flex; align-items: flex-start; gap: 14px; max-width: 85%; animation: fadeInUp 0.5s ease;">
                            <img src="images/sakura.png" alt="SAKURA" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid #8B4513; object-fit: cover; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div style="display: none; width: 32px; height: 32px; background: linear-gradient(135deg, #8B4513, #CD853F); border-radius: 50%; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);">ğŸ¥ƒ</div>
                            <div style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 18px 18px 18px 6px; padding: 16px 18px; border: 1px solid rgba(139, 69, 19, 0.08); box-shadow: 0 4px 16px rgba(139, 69, 19, 0.08); flex: 1; position: relative;">
                                <div style="color: #2c3e50; line-height: 1.5; font-size: 14px; font-weight: 400;">Hello! I'm SAKURA, your friendly Tullamore D.E.W. whiskey expert ğŸ¥ƒ<br><span style="color: #6c757d; font-size: 13px;">Ask me anything about our premium Irish whiskeys and heritage!</span></div>
                                <div style="position: absolute; bottom: -8px; left: 16px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid #ffffff;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ -->
                    <div style="background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%); padding: 16px 20px; border-top: 1px solid rgba(139, 69, 19, 0.08); flex-shrink: 0;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 4px;">
                            <button onclick="askQuestionInline('Tell me about Tullamore D.E.W. Distillery')" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border: 1px solid rgba(139, 69, 19, 0.15); border-radius: 12px; padding: 10px 14px; font-size: 12px; color: #495057; cursor: pointer; transition: all 0.2s ease; font-weight: 500; box-shadow: 0 2px 4px rgba(139, 69, 19, 0.05);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(139, 69, 19, 0.12)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(139, 69, 19, 0.05)'">ğŸ¢ About Distillery</button>
                            <button onclick="askQuestionInline('What are your recommended whiskeys?')" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border: 1px solid rgba(139, 69, 19, 0.15); border-radius: 12px; padding: 10px 14px; font-size: 12px; color: #495057; cursor: pointer; transition: all 0.2s ease; font-weight: 500; box-shadow: 0 2px 4px rgba(139, 69, 19, 0.05);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(139, 69, 19, 0.12)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(139, 69, 19, 0.05)'">ğŸ¥ƒ Recommendations</button>
                            <button onclick="askQuestionInline('How should I drink Irish whiskey?')" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border: 1px solid rgba(139, 69, 19, 0.15); border-radius: 12px; padding: 10px 14px; font-size: 12px; color: #495057; cursor: pointer; transition: all 0.2s ease; font-weight: 500; box-shadow: 0 2px 4px rgba(139, 69, 19, 0.05);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(139, 69, 19, 0.12)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(139, 69, 19, 0.05)'">ğŸ¥ƒ How to Drink</button>
                            <button onclick="askQuestionInline('What food pairs well with your whiskeys?')" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border: 1px solid rgba(139, 69, 19, 0.15); border-radius: 12px; padding: 10px 14px; font-size: 12px; color: #495057; cursor: pointer; transition: all 0.2s ease; font-weight: 500; box-shadow: 0 2px 4px rgba(139, 69, 19, 0.05);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(139, 69, 19, 0.12)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(139, 69, 19, 0.05)'">ğŸ½ï¸ Food Pairing</button>
                        </div>
                    </div>
                    
                    <!-- å…¥åŠ›ã‚¨ãƒªã‚¢ï¼ˆãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ -->
                    <div style="background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%); padding: 18px 20px; border-top: 1px solid rgba(139, 69, 19, 0.08); display: flex; gap: 12px; align-items: center; flex-shrink: 0;">
                        <input type="text" id="chatInput" placeholder="Ask SAKURA about our whiskeys..." onkeypress="if(event.key==='Enter') sendMessageInline()" style="flex: 1; padding: 14px 18px; border: 1px solid rgba(139, 69, 19, 0.15); border-radius: 24px; outline: none; font-size: 14px; font-family: 'Source Sans Pro', sans-serif; background: #ffffff; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.05); transition: all 0.2s ease;" onfocus="this.style.borderColor='#8B4513'; this.style.boxShadow='0 4px 16px rgba(139, 69, 19, 0.12)'" onblur="this.style.borderColor='rgba(139, 69, 19, 0.15)'; this.style.boxShadow='0 2px 8px rgba(139, 69, 19, 0.05)'">
                        <button onclick="sendMessageInline()" style="background: linear-gradient(135deg, #8B4513 0%, #CD853F 100%); color: white; border: none; border-radius: 50%; width: 44px; height: 44px; cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 18px; box-shadow: 0 4px 12px rgba(139, 69, 19, 0.3); transition: all 0.2s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">ğŸš€</button>
                    </div>
                    
                    <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
                    <div style="background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%); padding: 12px 20px; display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 12px; color: rgba(255, 255, 255, 0.9); border-radius: 0 0 24px 24px; flex-shrink: 0;">
                        <div style="width: 8px; height: 8px; border-radius: 50%; background: #10B981; box-shadow: 0 0 8px rgba(16, 185, 129, 0.6); animation: pulse 2s infinite;"></div>
                        <span style="font-weight: 500; letter-spacing: 0.3px;">Powered by OpenAI GPT âœ¨</span>
                    </div>
                </div>
            </div>
        `;
        
        document.body.insertAdjacentHTML('beforeend', chatHTML);
        console.log('âœ¨ SAKURAãƒãƒ£ãƒƒãƒˆè¡¨ç¤ºå®Œäº†');
        
        // ãƒãƒ£ãƒƒãƒˆå…¥åŠ›ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
        setTimeout(() => {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.focus();
            }
        }, 100);
    }
    
    // æœ€çµ‚ç‰ˆï¼šçµ¶å¯¾ã«å‹•ä½œã™ã‚‹SAKURAãƒãƒ£ãƒƒãƒˆ
    document.addEventListener('DOMContentLoaded', function() {
        const chatBtn = document.getElementById('aiSommelierChatBtn');
        if (chatBtn) {
            chatBtn.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('âœ… ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ¤œå‡º');
                createSakuraChat();
            });
        }
    });
    
    // ç¢ºå®Ÿã«å‹•ä½œã™ã‚‹SAKURAãƒãƒ£ãƒƒãƒˆé–¢æ•°
    function createSakuraChat() {
        console.log('ğŸš€ ãƒãƒ£ãƒƒãƒˆä½œæˆé–‹å§‹');
        
        // æ—¢å­˜å‰Šé™¤
        const existing = document.getElementById('sakuraFinalChat');
        if (existing) existing.remove();
        
        // çµ¶å¯¾ç¢ºå®Ÿãªãƒãƒ£ãƒƒãƒˆä½œæˆ
        const chatDiv = document.createElement('div');
        chatDiv.id = 'sakuraFinalChat';
        chatDiv.innerHTML = `
            <div style="position:fixed;top:100px;right:50px;width:350px;height:500px;background:white;border:3px solid #8B4513;border-radius:15px;z-index:999999;box-shadow:0 10px 30px rgba(0,0,0,0.4);display:flex;flex-direction:column;">
                <div style="background:#8B4513;color:white;padding:15px;border-radius:12px 12px 0 0;display:flex;justify-content:space-between;align-items:center;">
                    <div style="font-weight:bold;font-size:16px;">ğŸŒ¸ SAKURA - Whiskey Expert</div>
                    <button onclick="this.closest('#sakuraFinalChat').remove()" style="background:none;border:none;color:white;font-size:24px;cursor:pointer;">&times;</button>
                </div>
                <div id="finalChatMessages" style="flex:1;padding:15px;overflow-y:auto;background:#f9f9f9;">
                    <div style="background:#e8f4f8;padding:12px;border-radius:10px;margin-bottom:10px;">
                        <strong>ğŸŒ¸ SAKURA:</strong> Hello! I'm your Tullamore D.E.W. expert! Ask me about our whiskeys!
                    </div>
                </div>
                <div style="padding:15px;border-top:1px solid #ddd;display:flex;gap:10px;">
                    <input type="text" id="finalChatInput" placeholder="Ask about our whiskeys..." style="flex:1;padding:10px;border:1px solid #8B4513;border-radius:20px;" onkeypress="if(event.key==='Enter')sendFinalMessage()">
                    <button onclick="sendFinalMessage()" style="background:#8B4513;color:white;border:none;padding:10px 15px;border-radius:20px;cursor:pointer;">Send</button>
                </div>
            </div>
        `;
        
        document.body.appendChild(chatDiv);
        console.log('âœ… ãƒãƒ£ãƒƒãƒˆè¡¨ç¤ºæˆåŠŸ');
        
        // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
        setTimeout(() => {
            const input = document.getElementById('finalChatInput');
            if (input) input.focus();
        }, 100);
    }
    
    function sendFinalMessage() {
        const input = document.getElementById('finalChatInput');
        const messages = document.getElementById('finalChatMessages');
        
        if (!input || !messages || !input.value.trim()) return;
        
        const msg = input.value.trim();
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        const userDiv = document.createElement('div');
        userDiv.innerHTML = `<div style="background:#8B4513;color:white;padding:10px;border-radius:10px;margin:10px 0;text-align:right;"><strong>You:</strong> ${msg}</div>`;
        messages.appendChild(userDiv);
        
        // SAKURAå¿œç­”
        let reply = "I'm SAKURA! Ask me about Original, 12 Year, Honey, or our history!";
        const lower = msg.toLowerCase();
        if (lower.includes('original')) reply = "ğŸ¥ƒ Tullamore D.E.W. Original - our signature triple blend at 40% ABV!";
        else if (lower.includes('12')) reply = "ğŸ† 12 Year Special Reserve - four cask maturation for incredible complexity!";
        else if (lower.includes('honey')) reply = "ğŸ¯ Tullamore D.E.W. Honey - 35% ABV liqueur with natural honey!";
        else if (lower.includes('history')) reply = "ğŸ“œ Founded 1829! D.E.W. stands for Daniel E. Williams!";
        
        const sakuraDiv = document.createElement('div');
        sakuraDiv.innerHTML = `<div style="background:#e8f4f8;padding:10px;border-radius:10px;margin:10px 0;"><strong>ğŸŒ¸ SAKURA:</strong> ${reply}</div>`;
        messages.appendChild(sakuraDiv);
        
        messages.scrollTop = messages.scrollHeight;
        input.value = '';
    }
    
    // ç¢ºå®Ÿã«å‹•ä½œã™ã‚‹SAKURAãƒãƒ£ãƒƒãƒˆé–¢æ•°
    function showWorkingSakuraChat() {
        console.log('ğŸŒ¸ ç¢ºå®Ÿã«å‹•ä½œã™ã‚‹SAKURAãƒãƒ£ãƒƒãƒˆé–‹å§‹ï¼');
        
        // æ—¢å­˜ãƒãƒ£ãƒƒãƒˆã‚’å‰Šé™¤
        const existing = document.getElementById('workingSakuraChat');
        if (existing) existing.remove();
        
        // ç¢ºå®Ÿã«å‹•ä½œã™ã‚‹ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆä½œæˆ
        const chat = document.createElement('div');
        chat.id = 'workingSakuraChat';
        chat.style.cssText = `
            position: fixed !important;
            top: 80px !important;
            right: 50px !important;
            width: 380px !important;
            height: 550px !important;
            background: white !important;
            border: 2px solid #8B4513 !important;
            border-radius: 12px !important;
            z-index: 999999 !important;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3) !important;
            display: flex !important;
            flex-direction: column !important;
            font-family: 'Source Sans Pro', sans-serif !important;
        `;
        
        chat.innerHTML = `
            <div style="background: linear-gradient(135deg, #8B4513, #A0522D); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; border-radius: 10px 10px 0 0;">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <img src="images/sakura.png" alt="SAKURA" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid white;" onerror="this.outerHTML='<div style=\\"width: 32px; height: 32px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px;\\">ğŸŒ¸</div>';">
                    <span style="font-weight: bold; font-size: 16px;">ğŸŒ¸ SAKURA - Whiskey Expert</span>
                </div>
                <button onclick="document.getElementById('workingSakuraChat').remove()" style="background: rgba(255,255,255,0.2); border: none; color: white; font-size: 22px; cursor: pointer; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">&times;</button>
            </div>
            <div id="workingChatMessages" style="flex: 1; padding: 20px; overflow-y: auto; background: #f8f9fa;">
                <div style="background: linear-gradient(135deg, #e8f4f8, #f0f8ff); padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 4px solid #8B4513;">
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                        <span style="font-size: 20px;">ğŸŒ¸</span>
                        <strong style="color: #8B4513;">SAKURA:</strong>
                    </div>
                    <p style="margin: 0; line-height: 1.5; color: #333;">Hello! I'm SAKURA, your personal Tullamore D.E.W. whiskey expert! Ask me anything about our premium Irish whiskeys, our heritage since 1829, or get recommendations for your taste preferences.</p>
                </div>
            </div>
            <div style="padding: 15px; border-top: 1px solid #ddd; display: flex; gap: 10px; background: white; border-radius: 0 0 10px 10px;">
                <input type="text" id="workingChatInput" placeholder="Ask SAKURA about Tullamore D.E.W..." style="flex: 1; padding: 12px; border: 2px solid #8B4513; border-radius: 25px; outline: none; font-size: 14px;" onkeypress="if(event.key==='Enter') sendWorkingMessage()">
                <button onclick="sendWorkingMessage()" style="background: linear-gradient(135deg, #8B4513, #A0522D); color: white; border: none; padding: 12px 20px; border-radius: 25px; cursor: pointer; font-weight: bold; font-size: 14px;">Send</button>
            </div>
        `;
        
        document.body.appendChild(chat);
        console.log('âœ… ç¢ºå®Ÿã«å‹•ä½œã™ã‚‹SAKURAãƒãƒ£ãƒƒãƒˆè¡¨ç¤ºå®Œäº†');
        
        // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¨­å®š
        setTimeout(() => {
            const input = document.getElementById('workingChatInput');
            if (input) input.focus();
        }, 100);
    }
    
    // ã‚·ãƒ³ãƒ—ãƒ«ãªãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆé–¢æ•°ï¼ˆæ–°ã—ã„ç¢ºå®Ÿãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
    function showSakuraChat() {
        console.log('ğŸŒ¸ æ–°ã—ã„SAKURAãƒãƒ£ãƒƒãƒˆé–‹å§‹ï¼');
        
        // æ—¢å­˜ã®ãƒãƒ£ãƒƒãƒˆã‚’å‰Šé™¤
        const existingChat = document.getElementById('simpleChatBot');
        if (existingChat) {
            existingChat.remove();
        }
        
        // ã‚·ãƒ³ãƒ—ãƒ«ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆä½œæˆ
        const chatBot = document.createElement('div');
        chatBot.id = 'simpleChatBot';
        chatBot.style.cssText = `
            position: fixed; 
            top: 50px; 
            right: 50px; 
            width: 350px; 
            height: 500px; 
            background: white; 
            border: 2px solid #8B4513; 
            border-radius: 10px; 
            z-index: 10000; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.3); 
            display: flex; 
            flex-direction: column;
        `;
        
        chatBot.innerHTML = `
            <div style="background: #8B4513; color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; border-radius: 8px 8px 0 0;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <img src="images/sakura.png" alt="SAKURA" style="width: 30px; height: 30px; border-radius: 50%;" onerror="this.style.display='none';">
                    <span style="font-weight: bold;">ğŸŒ¸ SAKURA</span>
                </div>
                <button onclick="document.getElementById('simpleChatBot').remove()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer;">&times;</button>
            </div>
            <div id="simpleChatMessages" style="flex: 1; padding: 15px; overflow-y: auto; background: #f9f9f9;">
                <div style="background: #e8f4f8; padding: 10px; border-radius: 10px; margin-bottom: 10px;">
                    <strong>SAKURA:</strong> Hello! I'm SAKURA, your Tullamore D.E.W. whiskey expert! Ask me anything about our premium Irish whiskeys.
                </div>
            </div>
            <div style="padding: 15px; border-top: 1px solid #ddd; display: flex; gap: 10px;">
                <input type="text" id="simpleChatInput" placeholder="Ask SAKURA..." style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 5px;" onkeypress="if(event.key==='Enter') sendSimpleMessage()">
                <button onclick="sendSimpleMessage()" style="background: #8B4513; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">Send</button>
            </div>
        `;
        
        document.body.appendChild(chatBot);
        console.log('âœ¨ æ–°ã—ã„SAKURAãƒãƒ£ãƒƒãƒˆè¡¨ç¤ºå®Œäº†');
        
        // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¨­å®š
        setTimeout(() => {
            const input = document.getElementById('simpleChatInput');
            if (input) {
                input.focus();
            }
        }, 100);
    }
    
    // ç¢ºå®Ÿã«å‹•ä½œã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡é–¢æ•°
    function sendWorkingMessage() {
        const input = document.getElementById('workingChatInput');
        const messagesContainer = document.getElementById('workingChatMessages');
        
        if (!input || !messagesContainer || !input.value.trim()) return;
        
        const message = input.value.trim();
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        const userMessage = document.createElement('div');
        userMessage.style.cssText = 'display: flex; justify-content: flex-end; margin: 15px 0;';
        userMessage.innerHTML = `
            <div style="background: linear-gradient(135deg, #8B4513, #A0522D); color: white; padding: 12px 18px; border-radius: 18px 18px 6px 18px; max-width: 75%; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.3);">
                <strong>You:</strong> ${message}
            </div>
        `;
        messagesContainer.appendChild(userMessage);
        
        // SAKURAã®å¿œç­”
        let response = "I'm SAKURA! I'd love to help you learn about Tullamore D.E.W.! Try asking about our 'Original', '12 Year', 'Honey', or our 'history' starting from 1829!";
        
        const lowerMessage = message.toLowerCase();
        if (lowerMessage.includes('original')) {
            response = "ğŸ¥ƒ Tullamore D.E.W. Original is our signature triple blend Irish whiskey! At 40% ABV, it combines grain, malt, and pot still whiskeys matured in bourbon, port, and sherry casks for exceptional smoothness and complexity.";
        } else if (lowerMessage.includes('12 year') || lowerMessage.includes('special reserve')) {
            response = "ğŸ† Our 12 Year Old Special Reserve is aged in four different cask types - bourbon, port, Madeira, and sherry. This creates incredible depth and complexity with notes of dried fruits, honey, and warm spices!";
        } else if (lowerMessage.includes('honey')) {
            response = "ğŸ¯ Tullamore D.E.W. Honey is our delicious liqueur at 35% ABV, perfectly blending smooth Irish whiskey with natural honey. It's fantastic neat, on the rocks, or in cocktails!";
        } else if (lowerMessage.includes('history') || lowerMessage.includes('daniel') || lowerMessage.includes('williams')) {
            response = "ğŸ“œ Tullamore D.E.W. was founded in 1829! The 'D.E.W.' comes from Daniel E. Williams, who joined in 1887 and pioneered our triple distillation process. He made us Ireland's most progressive distillery!";
        } else if (lowerMessage.includes('18 year')) {
            response = "ğŸ‘‘ Our 18 Year Old Single Malt is the pinnacle of Irish whiskey craftsmanship! Matured in four cask types for 18 years at 41.3% ABV, it offers extraordinary complexity and sophistication.";
        } else if (lowerMessage.includes('caribbean') || lowerMessage.includes('rum')) {
            response = "ğŸï¸ Tullamore D.E.W. Caribbean Rum Cask Finish XO is finished in Caribbean rum casks, adding tropical fruit notes and warm character at 43% ABV. A truly unique expression!";
        }
        
        // SAKURAå¿œç­”è¡¨ç¤º
        const sakuraMessage = document.createElement('div');
        sakuraMessage.style.cssText = 'margin: 15px 0;';
        sakuraMessage.innerHTML = `
            <div style="background: linear-gradient(135deg, #e8f4f8, #f0f8ff); padding: 15px; border-radius: 18px 18px 18px 6px; border-left: 4px solid #8B4513; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.1);">
                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                    <span style="font-size: 16px;">ğŸŒ¸</span>
                    <strong style="color: #8B4513;">SAKURA:</strong>
                </div>
                <p style="margin: 0; line-height: 1.5; color: #333;">${response}</p>
            </div>
        `;
        messagesContainer.appendChild(sakuraMessage);
        
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¨å…¥åŠ›ã‚¯ãƒªã‚¢
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        input.value = '';
    }
    
    // ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡é–¢æ•°
    function sendSimpleMessage() {
        const input = document.getElementById('simpleChatInput');
        const messagesContainer = document.getElementById('simpleChatMessages');
        
        if (!input || !messagesContainer || !input.value.trim()) return;
        
        const message = input.value.trim();
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        const userMessage = document.createElement('div');
        userMessage.style.cssText = 'background: #8B4513; color: white; padding: 10px; border-radius: 10px; margin: 10px 0; text-align: right;';
        userMessage.innerHTML = `<strong>You:</strong> ${message}`;
        messagesContainer.appendChild(userMessage);
        
        // SAKURAã®å¿œç­”ï¼ˆåŸºæœ¬çš„ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¿œç­”ï¼‰
        let response = "I'm SAKURA! While I'm having some connection issues, I can tell you about our whiskeys. Try asking about 'Original', '12 year', 'honey', or our 'history'!";
        
        const lowerMessage = message.toLowerCase();
        if (lowerMessage.includes('original')) {
            response = "Tullamore D.E.W. Original is our signature triple blend Irish whiskey! At 40% ABV, it combines grain, malt, and pot still whiskeys for exceptional smoothness.";
        } else if (lowerMessage.includes('12 year')) {
            response = "Our 12 Year Old Special Reserve is aged in four different cask types - bourbon, port, Madeira, and sherry. This creates incredible depth and complexity!";
        } else if (lowerMessage.includes('honey')) {
            response = "Tullamore D.E.W. Honey is our delicious liqueur at 35% ABV, blending smooth Irish whiskey with natural honey. Perfect for cocktails!";
        } else if (lowerMessage.includes('history') || lowerMessage.includes('daniel')) {
            response = "Tullamore D.E.W. was founded in 1829! The 'D.E.W.' comes from Daniel E. Williams, who pioneered our triple distillation process.";
        }
        
        // SAKURAå¿œç­”è¡¨ç¤º
        const sakuraMessage = document.createElement('div');
        sakuraMessage.style.cssText = 'background: #e8f4f8; padding: 10px; border-radius: 10px; margin: 10px 0;';
        sakuraMessage.innerHTML = `<strong>SAKURA:</strong> ${response}`;
        messagesContainer.appendChild(sakuraMessage);
        
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¨å…¥åŠ›ã‚¯ãƒªã‚¢
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        input.value = '';
    }
    
    // ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è³ªå•é–¢æ•°
    function askQuestionInline(question) {
        const input = document.getElementById('chatInput');
        if (input) {
            input.value = question;
            sendMessageInline();
        }
    }
    
    // å®Ÿéš›ã®GPT APIã‚’ä½¿ç”¨ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡é–¢æ•°
    async function sendMessageInline() {
        const input = document.getElementById('chatInput');
        const messagesContainer = document.getElementById('chatMessages');
        
        if (!input || !messagesContainer) return;
        
        const message = input.value.trim();
        if (!message) return;
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºï¼ˆãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
        const userMessageHTML = `
            <div style="display: flex; justify-content: flex-end; margin-bottom: 16px; animation: fadeInUp 0.3s ease;">
                <div style="background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%); color: white; border-radius: 18px 18px 6px 18px; max-width: 75%; padding: 14px 18px; box-shadow: 0 4px 16px rgba(139, 69, 19, 0.25); position: relative;">
                    <div style="font-size: 14px; line-height: 1.5; word-break: break-word; font-weight: 400;">${message}</div>
                    <div style="position: absolute; bottom: -8px; right: 16px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid #A0522D;"></div>
                </div>
            </div>
        `;
        messagesContainer.insertAdjacentHTML('beforeend', userMessageHTML);
        input.value = '';
        
        // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤ºï¼ˆãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
        const typingId = 'typing-' + Date.now();
        const typingHTML = `
            <div id="${typingId}" style="margin-bottom: 16px; display: flex; align-items: flex-start; gap: 14px; max-width: 85%; animation: fadeInUp 0.3s ease;">
                <img src="images/sakura.png" alt="SAKURA" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid #8B4513; object-fit: cover; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div style="display: none; width: 32px; height: 32px; background: linear-gradient(135deg, #8B4513, #CD853F); border-radius: 50%; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);">ğŸ¥ƒ</div>
                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 18px 18px 18px 6px; padding: 16px 18px; border: 1px solid rgba(139, 69, 19, 0.08); box-shadow: 0 4px 16px rgba(139, 69, 19, 0.08); flex: 1; position: relative;">
                    <div style="display: flex; align-items: center; gap: 6px;">
                        <span style="width: 6px; height: 6px; border-radius: 50%; background: #8B4513; animation: typing-bounce 1.4s infinite;"></span>
                        <span style="width: 6px; height: 6px; border-radius: 50%; background: #A0522D; animation: typing-bounce 1.4s infinite; animation-delay: 0.2s;"></span>
                        <span style="width: 6px; height: 6px; border-radius: 50%; background: #CD853F; animation: typing-bounce 1.4s infinite; animation-delay: 0.4s;"></span>
                        <span style="margin-left: 12px; font-size: 13px; color: #6c757d; font-weight: 500;">SAKURA is thinking about whiskey...</span>
                    </div>
                    <div style="position: absolute; bottom: -8px; left: 16px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid #ffffff;"></div>
                </div>
            </div>
        `;
        messagesContainer.insertAdjacentHTML('beforeend', typingHTML);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        
        try {
            // GPT APIã‚’å‘¼ã³å‡ºã—
            console.log('ğŸš€ Sending message to API:', message);
            const response = await fetch('https://brewery-website10.vercel.app/api/chat', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    messages: [
                        {
                            role: 'system',
                            content: `You are "SAKURA", the official Tullamore D.E.W. Distillery AI whiskey expert and brand ambassador. You are a friendly, knowledgeable AI assistant specializing in Tullamore D.E.W. products and Irish whiskey.

BRAND KNOWLEDGE:
- Founded: 1829 in Tullamore, County Offaly, Ireland
- Key Figure: Daniel E. Williams (D.E.W.) - joined 1887, became owner 1903
- Signature Process: Triple distilled, triple blend (grain + malt + pot still)
- Current Owner: William Grant & Sons (since 2010)
- New Distillery: Opened 2014 in Tullamore (first time producing there since 1954)

PRODUCT LINEUP:
1. Original (40% ABV) - Triple blend, bourbon/port/sherry casks
2. 12 Year Special Reserve (40% ABV) - Four cask maturation  
3. 14 Year Single Malt (41.3% ABV) - Four cask finish
4. 15 Year Trilogy (40% ABV) - Three cask maturation
5. 18 Year Single Malt (41.3% ABV) - Four cask, ultra-premium
6. Caribbean Rum Cask Finish XO (43% ABV) - Rum cask finished
7. Honey (35% ABV) - Irish whiskey liqueur with natural honey

EXPERTISE AREAS:
- Tullamore D.E.W. products, history, and production
- Irish whiskey category knowledge
- Tasting notes and serving suggestions  
- Cocktail recipes featuring our whiskeys
- Distillery visitor information

RESPONSE STYLE:
- Passionate but professional tone
- Share interesting historical facts
- Provide specific product recommendations
- For non-whiskey questions: "I'm here to help with everything Tullamore D.E.W. and Irish whiskey. What would you like to know about our whiskeys?"

Always mention you're representing Tullamore D.E.W. Distillery and show genuine enthusiasm for Irish whiskey craftsmanship.`
                        },
                        { role: 'user', content: message }
                    ],
                    model: 'gpt-4o-mini',
                    max_tokens: 500,
                    temperature: 0.7
                })
            });
            
            console.log('ğŸ“¨ API Response status:', response.status);
            const data = await response.json();
            console.log('ğŸ“¨ API Response data:', data);
            
            // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼å‰Šé™¤
            const typingElement = document.getElementById(typingId);
            if (typingElement) typingElement.remove();
            
            // SAKURAã®å¿œç­”ã‚’è¡¨ç¤ºï¼ˆã‚¹ãƒãƒ›å¯¾å¿œï¼‰
            const responseText = data.choices?.[0]?.message?.content || 'Sorry, I couldn\\'t answer that. Please try again.';
            const responseHTML = `
                <div style="margin-bottom: 16px; display: flex; align-items: flex-start; gap: 14px; max-width: 85%; animation: fadeInUp 0.3s ease;">
                    <img src="images/sakura.png" alt="SAKURA" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid #8B4513; object-fit: cover; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div style="display: none; width: 32px; height: 32px; background: linear-gradient(135deg, #8B4513, #CD853F); border-radius: 50%; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);">ğŸ¥ƒ</div>
                    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 18px 18px 18px 6px; padding: 16px 18px; border: 1px solid rgba(139, 69, 19, 0.08); box-shadow: 0 4px 16px rgba(139, 69, 19, 0.08); flex: 1; position: relative;">
                        <div style="color: #2c3e50; line-height: 1.5; font-size: 14px; font-weight: 400; word-break: break-word;">${responseText}</div>
                        <div style="position: absolute; bottom: -8px; left: 16px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid #ffffff;"></div>
                    </div>
                </div>
            `;
            messagesContainer.insertAdjacentHTML('beforeend', responseHTML);
            
        } catch (error) {
            console.error('Chat API Error:', error);
            
            // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼å‰Šé™¤
            const typingElement = document.getElementById(typingId);
            if (typingElement) typingElement.remove();
            
            // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿œç­”ã‚’æä¾›
            let fallbackResponse = "I'm SAKURA, your Tullamore D.E.W. whiskey expert! While I'm experiencing some connection issues, I'd love to help you learn about our premium Irish whiskeys. Please try asking about our products, history, or tasting recommendations.";
            
            // ç°¡å˜ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®å¿œç­”
            const lowerMessage = message.toLowerCase();
            if (lowerMessage.includes('original')) {
                fallbackResponse = "Tullamore D.E.W. Original is our signature triple blend Irish whiskey! It combines grain, malt, and pot still whiskeys, triple distilled for exceptional smoothness. At 40% ABV, it's perfect neat, on the rocks, or in cocktails.";
            } else if (lowerMessage.includes('12 year')) {
                fallbackResponse = "Our 12 Year Old Special Reserve is aged in four different cask types - bourbon, port, Madeira, and sherry casks. This creates incredible depth and complexity with rich fruit and spice notes.";
            } else if (lowerMessage.includes('history') || lowerMessage.includes('daniel')) {
                fallbackResponse = "Tullamore D.E.W. was founded in 1829! The 'D.E.W.' comes from Daniel E. Williams, who joined in 1887 and became owner in 1903. He pioneered our triple distillation and triple blend process that makes our whiskey so special.";
            } else if (lowerMessage.includes('honey')) {
                fallbackResponse = "Tullamore D.E.W. Honey is our delicious liqueur at 35% ABV, blending our smooth Irish whiskey with natural honey. It's perfect for sipping neat, over ice, or in cocktails like an Irish Mule.";
            }
            
            // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿œç­”ã‚’è¡¨ç¤º
            const fallbackHTML = `
                <div style="margin-bottom: 16px; display: flex; align-items: flex-start; gap: 14px; max-width: 85%; animation: fadeInUp 0.3s ease;">
                    <img src="images/sakura.png" alt="SAKURA" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid #8B4513; object-fit: cover; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div style="display: none; width: 32px; height: 32px; background: linear-gradient(135deg, #8B4513, #CD853F); border-radius: 50%; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0; box-shadow: 0 2px 8px rgba(139, 69, 19, 0.2);">ğŸ¥ƒ</div>
                    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 18px 18px 18px 6px; padding: 16px 18px; border: 1px solid rgba(139, 69, 19, 0.08); box-shadow: 0 4px 16px rgba(139, 69, 19, 0.08); flex: 1; position: relative;">
                        <div style="color: #2c3e50; line-height: 1.5; font-size: 14px; font-weight: 400; word-break: break-word;">${fallbackResponse}</div>
                        <div style="position: absolute; bottom: -8px; left: 16px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid #ffffff;"></div>
                    </div>
                </div>
            `;
            messagesContainer.insertAdjacentHTML('beforeend', fallbackHTML);
        }
        
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    // DOMãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
    document.addEventListener('DOMContentLoaded', function() {
        console.log('ğŸŒ¸ DOMèª­ã¿è¾¼ã¿å®Œäº†ã€SAKURAãƒãƒ£ãƒƒãƒˆæº–å‚™OKï¼');
        
        // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç¢ºå®Ÿã«è¨­å®š
        const chatButton = document.getElementById('aiSommelierChatBtn');
        if (chatButton) {
            chatButton.addEventListener('click', function(e) {
                console.log('ğŸŒ¸ SAKURAãƒãƒ£ãƒƒãƒˆãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼');
                e.preventDefault();
                showSakuraChat();
            });
        }
    });
    </script>
    
    <!-- ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³CSS -->
    <style>
    @keyframes typing-bounce {
        0%, 60%, 100% {
            transform: translateY(0);
        }
        30% {
            transform: translateY(-6px);
        }
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
    
    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(15px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes pulse {
        0%, 100% {
            opacity: 1;
            transform: scale(1);
        }
        50% {
            opacity: 0.7;
            transform: scale(1.1);
        }
    }
    
    /* ã‚¹ãƒãƒ›ã§ã®ã‚¿ãƒƒãƒ—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ */
    @media (max-width: 768px) {
        button:active {
            transform: scale(0.95);
            transition: transform 0.1s ease;
        }
    }
    </style>
</body>
</html>